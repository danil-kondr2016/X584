<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<Title>Как работать с программой</Title>
</HEAD>
<BODY>
 <h1>Как работать с программой</h1>

  <h2><a name="create">Как создать проект</a></h2>
  <p>Выберите в меню <strong>Файл</strong> команду <strong>Новый</strong>, либо нажмите кнопку <img src="new.png">, либо нажмите комбинацию клавиш <i>Ctrl + N</i>. </p>
  <p><img src="../info.bmp">Если Вы хотите открыть ранее сохраненную микропрограмму, то выберите команду <strong><a href="commands.htm#open">Открыть</a></strong> из меню <strong>Файл,</strong> либо нажмите на кнопку   <img src="open.png">, либо нажмите комбинацию клавиш  <i>Ctrl + O</i>.</p>
  <h2><a name="save">Как сохранить проект</a></h2>
  <p><strong>Чтобы сохранить код микропрограммы:</strong></p>
  <ol>
    <li>Выберите команду <strong>Сохранить как</strong> из меню <strong>Файл</strong>. </li>
    <li>Задайте путь и имя файла.</li>
  </ol>
  <p><img src="../info.bmp">Если Вы не в первый раз сохраняете код микропрограммы, то выберите команду <strong><a href="commands.htm#save">Сохранить</a></strong> из меню <strong>Файл,</strong> либо нажмите на кнопку <img src="save.png">, либо нажмите комбинацию клавиш <i>Ctrl + S</i> .       </p>
  
  <h2><a name="debug">Как проводить отладку программы</a></h2>
  <p><strong>Для пользователя создано три варианта отладки проекта: </strong></p>
  <p>1.<img src="start.png"> Пуск.</p>
  <p>2.<img src="step.png"> Пошаговая отладка.</p>
  <p>3.<img src="run_until.png">Пуск до курсора.</p>
  <p><img src="start.png">Пуск - это выполнение программы до конца или до точки останова, которую можно поставить на  панели <strong><a href="../Program/program.htm#codeedit">окна редактирования кода микропрограммы</a></strong>. Выглядит точка останова следующим образом: <img src="../Program/break.png"> или <img src="../Program/at_break.png">.</p>
  <p><img src="step.png">Пошаговая отладка - это выполнение программы пошагово.</p>
  <p><img src="run_until.png">Пуск до курсора - это выполнение программы до курсора.  </p>
  <p><img src="../warning.bmp">Обратите внимание на то, что если в программе присутствует <strong><a href="#goto">условный и безусловный переход</a></strong>, то из-за этого может произойти зацикливание программы. Для этой ситуации в программе присутствует <strong><a href="commands.htm#break">команда «Пауза»</a></strong>.</p>

  <h2><a name="edit">Как править код микропрограммы</a></h2>
  <p>Для редактирования кода микропрограммы нужно выделить нужную строчку программы в <a href="../Program/program.htm#codeedit"><strong>окне редактирования кода</strong></a> (она подсветится светло-синим цветом), удалить её при помощи клавиши <i>Delete</i> или <strong><a href="commands.htm#delete">команды «Удалить»</a></strong> и выбрать нужную микрокоманду из <strong><a href="../Program/program.htm#microcommands">окна системы микрокоманд</a></strong>, после этого строка автоматически заменится. При необходимости нужно ввести оператор условного или безусловного перехода в поле <strong>Управляющий оператор</strong>, расположенном в <strong><a href="../Program/program.htm#codeedit">окне редактирования кода микропрограммы</a></strong>. Также при желании можно ввести комментарий в соответствующее поле.</p>
  <p><img src="../warning.bmp">Внимание! Если в мнемокоде инструкции содержится аргумент «П», то не забывайте, что его значение задается при помощи <strong><a href="../Program/program.htm#carryin">переключателя</a></strong>, отвечающего за ВхПАЛУ, который расположен в <strong><a href="../Program/program.htm#codeedit">окне редактирования кода микропрограммы</a></strong>, где галочка соответствует П = 1, отсутствие галочки - П = 0.</p>
  <p><img src="../tip.png">Не забывайте сохранить изменения в проекте при помощи  <strong><a href="commands.htm#save">команды &laquo;Сохранить&raquo; (меню &laquo;Файл&raquo;)</a></strong></p>
  <p><img src="../tip.png">Чтобы вставить команду в код микропрограммы, нужно перетащить её из <a href="../Program/program.htm#microcommands"><strong>окна системы микрокоманд</strong></a>, либо дважды щёлкнуть по ней левой кнопкой мыши или нажать клавишу Enter.</p>

  <h2><a name="filter">Как проводить фильтрацию системы микрокоманд</a></h2>
  <p>Чтобы произвести фильтрацию системы микрокоманд ЦПЭ К584ВМ1, нужно:</p>
  <ol>
    <li>Определить результат выполнения микрокоманды или оператора выполнения операции (арифметической, булевой, сдвига).</li>
    <li>Выбрать соответствующую кнопку фильтрации (щелчком левой кнопки мыши, при этом шрифт надписи кнопки становится «жирным»).</li>
  </ol>
  <p><img src="../tip.png">Возможно одновременное использование нескольких кнопок, тогда фильтрация  будет осуществляться с союзом «И». Описание назначения кнопок смотрите ниже.</p>
  <p align="center"><img src="filters.png"><br><i><b>Рис. 6. Окно программы с указанием кнопок фильтрации микрокоманд.</b></i></p>
  <p>На рисунке 6 красной стрелкой показаны кнопки фильтрации системы микрокоманд ЦПЭ К584ВМ1, которые производят фильтрацию по аргументам операций и операций сдвига, а зеленой стрелкой показаны кнопки фильтрации по результату операции (арифметической, логической, сдвига). Надписи на кнопках соответствуют названиям операторов в <strong><a href="../K584/microcommands.htm">системе микрокоманд ЦПЭ</a></strong>.</p>
  
  <h2><a name="values">Как редактировать значения регистров, шин, входов</a></h2>
  <p>Чтобы произвести редактирование значений регистров или шин ЦПЭ К584ВМ1, нужно:</p>
  <ol>
    <li>выбрать метод ввода значений, т.е. с клавиатуры или из буфера обмена;</li>
    <li>если выбрали метод ввода с клавиатуры, то значение вводится комбинацией цифр 0 или 1;</li>
    <li>если выбрали метод ввода из буфера обмена, то поставьте курсор в нужный регистр или шину и нажмите комбинацию клавиш <i>Ctrl+V</i>. <strong>Эта команда недоступна, если буфер обмена пуст.</strong></li>
  </ol>
  <p><img src="../tip.png">Если Вы хотите редактировать уже введенное значение, то стирать можно обычной заменой на другую цифру, а также клавишами <i>Backspace</i> или <i>Delete</i>.</p>
  <p>Внимание! Вход ШИНвх отсутствует на форме программы <strong><a href="../Program/index.htm">X584</a></strong>. Значения данных запрашиваются при выполнении или отладке микропрограммы, если ШИНвх присутствует в микрокоманде. При запросе ввода отображается окно (смотрите рисунок 7).</p>
  <p align="center"><img src="input_bus.png"><br><i><b>Рисунок 7. Окно ввода значения ШИНвх</b></i></p>
  <p>На рисунке показано:</p>
  <p>1. Поле ввода бинарного значения</p>
  <p>2. Поле ввода десятичного значения</p>
  <p>3. Панель ввода бинарного значения при помощи мыши</p>
  <p><img src="../info.bmp">Галочка соответствует цифре 1, отсутствие галочки - 0, количество переключателей соответствует разрядности слова, т.е. 16 бит. Номера переключателей (0 - 15 справа налево) соответствуют номерам разрядов.</p>
  <p><img src="../tip.png">При двойном щелчке мыши или нажатии клавиши Enter в полях регистров и шин отображается окно, показанное на рисунке 7. Чтобы применить изменение значения регистра или шины, можно нажать кнопку &laquo;ОК&raquo; или клавишу Enter.</p>
  <p><img src="../info.bmp">Значение ШИНвх при выполнении микроинструкции можно задавать с использованием <a href="#input"><strong>оператора ввода числа</strong></a>.</p>
  
  <h2><a name="goto">Как организовать условный и безусловный переход</a></h2>
  <p>Для этого нужно  в столбце &laquo;Управляющий оператор&raquo;, находящемся в окне редактирования кода, прописать следующие фразы:</p>
  <p>1. if &lt;флаг&gt; then &lt;адрес, если условие истинно&gt; [else &lt;адрес, если условие ложно&gt;], или русский эквивалент: если &lt;флаг&gt; то &lt;адрес, если условие истинно&gt; [иначе &lt;адрес, если условие ложно&gt;].</p>
  <p>2. goto &lt;адрес&gt;, или русский эквивалент: иди_на &lt;адрес&gt;.</p>
  <p><img src="../info.bmp">Ветвь else необязательна. Если она отсутствует и условие ложно, то управление просто передается на следующую строчку.  В качестве флагов можно указывать: "ПАЛУ3" ("П", "CO3", "C"), "!СДЛ1" ("!SL1"), "!СДП1" ("!SR1"), "!СДЛ2" ("!SL2"), "!СДП2" ("!SR2"), "РРР0" ("XWR0"), "РРР3" ("XWR3"), "A15", "B15", "ПАЛУ0" ("П0", "CO0", "C0"), "ПАЛУ1" ("П1", "CO1", "C1"), "ПАЛУ2" ("П2", "CO2", "C2") . <strong>Пример управляющего оператора</strong>: «если П то 21».</p>
  <p><img src="../warning.bmp">Управляющие операторы не будут работать в новых версиях программы X584, если они вписаны в столбец &laquo;Комментарий&raquo;. При открытии файлов в старых версиях X584 такие комментарии могут ошибочно обрабатываться как управляющие операторы.</p>

  <h2><a name="input">Как задать значение ШИНвх для отладки программы</a></h2>
  <p>Чтобы не вводить тестовое значение ШИНвх каждый раз при отладке программы, можно для удобства указать его непосредственно в коде программы. Для этого нужно в столбце &laquo;Управляющий оператор&raquo;, находящемся в окне редактирования кода, прописать команду input &lt;число&gt;, или русский эквивалент: ввод &lt;число&gt;. Число может быть задано в двоичном, десятичном или шестнадцатеричном виде.</p>
  <ul>
    <li>Число в двоичном виде состоит из 16 знаков 0 или 1, либо из четырёх групп по четыре знака 0 или 1, разделённых пробелами. Пример: 1110 1101 0101 0101 или 1110110101010101.</li>
    <li>Число в десятичном виде записывается как в виде положительного числа от 0 до 65535, так и в виде отрицательного числа от -1 до -32768. Отрицательные числа преобразуются в дополнительный код. Пример: 60757 или -4779.</li>
    <li>Число в шестнадцатеричном виде начинается с символов 0x, за которыми идёт до четырёх шестнадцатеричных цифр: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A (a), B (b), C (c), D (d), E (e), F (f). Пример: 0xED55.</li>
  </ul>
  <p><img src="../warning.bmp">Любое отклонение от формата записи обрабатывается как неверный оператор.</p>
  <p><img src="../warning.bmp">Оператор ввода не работает в старых версиях X584. При сохранении он не записывается в область данных, понятную старым версиям X584.</p>
</BODY>
</HTML>
